plugins {
	id 'java-gradle-plugin'
	id "net.ltgt.apt" version "0.18"
	id 'maven-publish'
}

group = 'com.github.ryanholdren'
version = '0.0.1-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
	mavenCentral()
}

publishing {
	publications {
		pluginPublication(MavenPublication) {
			groupId project.group
			artifactId 'typesafepostgresql-plugin'
			version project.version
			from components.java
		}
	}
	repositories {
		mavenLocal()
	}
}

dependencies {
	annotationProcessor group: "org.immutables", name: "value", version: "2.6.3"
	compileOnly group: "org.immutables", name: "value", version: "2.6.3"
	compile group: 'com.google.guava', name: 'guava', version: '25.1-jre'
	compile group: 'com.opentable.components', name: 'otj-pg-embedded', version: '0.12.0'
	compile group: 'org.flywaydb', name: 'flyway-core', version: '5.1.4'
	compile gradleApi()
}